<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="products">
 
	<!-- 상품등록신청 -->
	<insert id="proinsertdo" parameterType="product">
	insert into product(pro_no,sel_id,pro_ceo,pro_name,pro_post,pro_addr,pro_n1,pro_n2,pro_x,pro_y,pro_con,pro_pic,pro_intro,pro_app,pro_joind,pro_s) 
	values(product_seq1.nextval, #{sel_id}, #{pro_ceo}, #{pro_name}, #{pro_post}, #{pro_addr}, #{pro_n1}, #{pro_n2}, #{pro_x}, #{pro_y}, #{pro_con}, 
	#{pro_pic}, #{pro_intro}, sysdate, null, 0)
	</insert>
 	
 	<!-- 등록시점 pro_no 구하기 -->
 	<select id="proload" parameterType="String" resultType="product">
 	select * from product where pro_no = (select max(pro_no) from product where sel_id = #{sel_id})
 	</select>
 	
 	<!-- 리스트 구하기 -->
 	<select id="getprolist" parameterType="String" resultType="product">
 	select * from product where sel_id = #{sel_id} order by pro_no asc
 	</select>
 	
 	<!-- product 상세정보 구하기 구하기 -->
 	<select id="getprodetail" parameterType="int" resultType="product">
 	select * from product where pro_no = #{pro_no}
 	</select>
</mapper>