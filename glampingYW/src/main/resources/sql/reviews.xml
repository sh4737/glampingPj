<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="reviews">
 
 	<!-- 별점평균 구하기 -->
	<select id="getstaravg" parameterType="int" resultType="double">
	select nvl(avg(rev_star),0) from review where pro_no = #{pro_no}
	</select>
 	
 	<!-- 리뷰수 구하기 -->
 	<select id="getrevcount" parameterType="int" resultType="int">
 	select count(rev_no) from review where pro_no = #{pro_no}
 	</select>
 	
 	<!-- 리뷰리스트 구하기 -->
 	<select id="getrevlist" parameterType="int" resultType="review">
 	select * from review where pro_no = #{pro_no} order by rev_date desc
 	</select>
</mapper>